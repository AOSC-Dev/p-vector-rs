{
  "db": "PostgreSQL",
  "073f3f1909662171806e38ca91d9eb6bdcfdff5067b2a4c5a2e56431a9236422": {
    "describe": {
      "columns": [
        {
          "name": "architecture",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT architecture FROM pv_repos WHERE path=$1"
  },
  "0a4540e8c33c71222a68ff5ecc1a167b406de9961ac3cc69649c6152a6d7a9b7": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "VACUUM"
  },
  "0b2e0a7ba7c400b0951547abf0a0947cd6f51af57f38f4c91d0c1a047843c13e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "REFRESH MATERIALIZED VIEW v_so_breaks"
  },
  "0e7e68b02487eb2c6c6c9c5231b40abfd7040a7bb21ff4e6f0d9a57054967356": {
    "describe": {
      "columns": [
        {
          "name": "package",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "version",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "repo",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "architecture",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        null,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT package, version, r.branch || '-' || r.component AS repo, p.architecture FROM pv_packages p JOIN pv_repos r ON p.repo = r.name WHERE filename = $1"
  },
  "0f537251d9bb699a041a4c033a7ce6badaf5be1141d98fc4214928ceca1cad9b": {
    "describe": {
      "columns": [
        {
          "name": "branch",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "modified",
          "ordinal": 1,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT branch, coalesce(extract(epoch FROM max(mtime)), 0)::bigint AS modified FROM pv_repos GROUP BY branch"
  },
  "11ae23f34abba3c0801afd3e13dc51c484999b32cb73ee182ffe0f337760ef96": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "TRUNCATE TABLE _sqlx_migrations"
  },
  "14f2c90ff3bf00e1485a658f47da843912e4e0a5b6ea394dbc1d9910d24304d6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_package_dependencies VALUES($1, $2, $3, $4, $5) ON CONFLICT ON CONSTRAINT pv_package_dependencies_pkey DO UPDATE SET value = $5"
  },
  "168780a2e264b9db2df51df0f013fef794314aa08fe9b3d51bddfde94e3f1614": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_package_duplicate SELECT * FROM pv_packages WHERE filename=$1"
  },
  "18d29fe563ec67524079ef25d7df21e2242ea20be7de6b2fc2694e0e1cef9487": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Text",
          "Text",
          "Int8",
          "Int2",
          "Int4",
          "Int8",
          "Int8",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_package_files VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)"
  },
  "2051c45ee7ed568539a63718c6d972a0a21a011e511474fcd82c50744ace65ab": {
    "describe": {
      "columns": [
        {
          "name": "package",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "version",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "repo",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "architecture",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "filename",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "size",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "mtime",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "sha256",
          "ordinal": 7,
          "type_info": "Text"
        }
      ],
      "nullable": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT p.package, p.version, p.repo, p.architecture, p.filename, p.size, p.mtime, p.sha256\nFROM pv_packages p INNER JOIN pv_repos r ON p.repo=r.name WHERE r.path=$1\nUNION ALL\nSELECT p.package, p.version, p.repo, p.architecture, p.filename, p.size, p.mtime, p.sha256\nFROM pv_package_duplicate p INNER JOIN pv_repos r ON p.repo=r.name WHERE r.path=$1"
  },
  "28a25034416a5a4760f7ba8e747804575735180de9f28675a0019bc038a77e18": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Text"
        ]
      }
    },
    "query": "UPDATE pv_packages SET mtime = $1 WHERE filename = $2"
  },
  "3eebbb9c5f04bcea5ebd279fda2408ce9a222a34e1701d23e8fbd1b539b10388": {
    "describe": {
      "columns": [
        {
          "name": "new",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Text",
          "Text",
          "Int8",
          "Text",
          "Int4",
          "Int4",
          "Text",
          "Int8",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_packages VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, comparable_dpkgver($2))\nON CONFLICT (package, version, repo)\nDO UPDATE SET filename=$5,size=$6,sha256=$7,mtime=$8,debtime=$9,section=$10,installed_size=$11,maintainer=$12,description=$13\nRETURNING (xmax = 0) AS new"
  },
  "498614e7fff26771770881269677d8e162807687b7587ecdadc928f9936f9a9c": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "etag",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT name, etag FROM pv_dbsync WHERE name = $1"
  },
  "49c275e9b638725d0832e6f4910ed6751f36c57c3d512a9c6e2afe9370045f29": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "DROP SERVER IF EXISTS sqlite_server CASCADE"
  },
  "511a72ec01f963731335853098b793e4e99e7f2f4a3f6e5400de60edf0c473f9": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "DELETE FROM pv_repos WHERE path = $1"
  },
  "5be45eaa9f9e17923a9138c54775533dd65c257985dc51eb93ac07fdd7de7ffc": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "version",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "arch",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "size",
          "ordinal": 4,
          "type_info": "Int8"
        },
        {
          "name": "sha256",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "section",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "inst_size",
          "ordinal": 7,
          "type_info": "Int8"
        },
        {
          "name": "maintainer",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "description",
          "ordinal": 9,
          "type_info": "Text"
        },
        {
          "name": "dep",
          "ordinal": 10,
          "type_info": "Json"
        }
      ],
      "nullable": [
        false,
        false,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT p.package AS name, p.version, min(p.architecture) arch,\n    min(p.filename) path, min(p.size) size, min(p.sha256) sha256,\n    min(p.section) section, min(p.installed_size) inst_size,\n    min(p.maintainer) maintainer, min(p.description) description,\n    json_agg(array[pd.relationship, pd.value]) dep\nFROM pv_packages p INNER JOIN pv_repos r ON p.repo=r.name\nLEFT JOIN pv_package_dependencies pd ON pd.package=p.package\nAND pd.version=p.version AND pd.repo=p.repo\nWHERE r.path=$1 AND p.debtime IS NOT NULL\nGROUP BY p.package, p.version, p.repo"
  },
  "61205a1b290fdc2ae1674599d34bd08a5eda1299c3dffcb98048186ddf75b391": {
    "describe": {
      "columns": [
        {
          "name": "branch",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "arch",
          "ordinal": 1,
          "type_info": "TextArray"
        },
        {
          "name": "comp",
          "ordinal": 2,
          "type_info": "TextArray"
        }
      ],
      "nullable": [
        false,
        null,
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT branch, array_agg(DISTINCT architecture) AS arch, array_agg(DISTINCT component) AS comp FROM pv_repos GROUP BY branch"
  },
  "69736f1707dcf79d927f9693f8dd407da53aa7e5e966ab0468d97c8493dd26fb": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "REFRESH MATERIALIZED VIEW v_so_breaks_dep"
  },
  "75bb672bb0ab07c530cb3349355e5d9f833c355c38e88af13f3294b16973ee21": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Int4",
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_repos VALUES ($1, $2, $3, $4, $5, $6, now())\nON CONFLICT (name) DO UPDATE SET mtime=now()"
  },
  "7c18bf09ef1a28ee8c8b3e88f412b01009217f076e3db4743a733e4b3ec97aab": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_package_sodep VALUES ($1, $2, $3, 0, $4, $5)"
  },
  "9b9bcc3b7774054f8b20396d60e3bbcba51d0c2e840753f6484b01d3d83f3e21": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_dbsync VALUES ($1, $2, now()) ON CONFLICT (name) DO UPDATE SET etag=$2"
  },
  "a0103693f0c8c64b2c302c4b0a62d95841862349121b59f19192f91c4d8ccd1f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO pv_package_sodep VALUES ($1, $2, $3, 1, $4, $5)"
  },
  "ad96af1d197ad7dd9d1b7379ccfc930db84713ee18059f82bb253342ea7d61c1": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "DELETE FROM pv_packages WHERE filename = $1"
  },
  "ae2cc8545e9573723d82b81257d8b3cb9d2832d0e125c8abc63dfcb44016737e": {
    "describe": {
      "columns": [
        {
          "name": "p",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      }
    },
    "query": "SELECT (df.path || '/' || df.name) || '   ' || (string_agg(DISTINCT (\ncoalesce(dp.section || '/', '') || dp.package), ',')) || chr(10) as p\nFROM pv_packages dp\nINNER JOIN pv_package_files df USING (package, version, repo)\nINNER JOIN pv_repos pr ON pr.name=dp.repo\nWHERE pr.path=$1 AND df.ftype<53\nAND pr.architecture IN ($2, 'all') AND dp.debtime IS NOT NULL\nGROUP BY df.path, df.name"
  },
  "bd5a59a50ebc236dc2d771656ea909e4443e58ee705ba0ba5540d5e7f66a104f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "REFRESH MATERIALIZED VIEW v_dpkg_dependencies"
  },
  "be19365bd1bf5ce5fdd408c058e456624b10c3a0127fd78b86b02698dca1b33c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "WITH d1 AS (DELETE FROM pv_package_sodep WHERE package=$1 AND version=$2 AND repo=$3 RETURNING package)\n, d2 AS (DELETE FROM pv_package_files WHERE package=$1 AND version=$2 AND repo=$3 RETURNING package)\n, d3 AS (DELETE FROM pv_package_dependencies WHERE package=$1 AND version=$2 AND repo=$3 RETURNING package)\nDELETE FROM pv_package_duplicate WHERE package=$1 AND version=$2 AND repo=$3"
  },
  "d58b538efe399819f42a129d3c8d811e3fc42231ecabd767a5b6170657a18fb9": {
    "describe": {
      "columns": [
        {
          "name": "path",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT DISTINCT path FROM pv_repos"
  },
  "d79207c702e2c9bc381315c82dc64fe88d990a76b0712d21a46e105cf51b4293": {
    "describe": {
      "columns": [
        {
          "name": "newer",
          "ordinal": 0,
          "type_info": "Bool"
        },
        {
          "name": "version",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "filename",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "SELECT comparable_dpkgver($1) > _vercomp AS newer, version, filename FROM pv_packages \nWHERE package=$2 AND repo=$3 AND _vercomp=\n(SELECT max(\"_vercomp\") FROM pv_packages WHERE package=$2 AND repo=$3 GROUP BY package)"
  },
  "dc7b3f0b1089cd6d4fce903268ec555966e7dd38ae96b47a2a990c3ad24bea4b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "DELETE FROM pv_package_duplicate USING pv_packages WHERE pv_package_duplicate.filename = pv_packages.filename"
  },
  "f03d9d07b65fc435aec9c1e86f09d8b4d51bf6a91f405cf02031c9ea40d23659": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "VACUUM ANALYZE"
  },
  "f5f1aba07303e12cd1f7ca30ba425a8a6f285d3bc7fd1ee6872e52691bfb50ce": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "REFRESH MATERIALIZED VIEW v_packages_new"
  },
  "f81757b4a592e24d5dec87163b83a4a5d4dfc225b9bdb007685e03212ffcc404": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE EXTENSION IF NOT EXISTS sqlite_fdw"
  }
}